{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Payment</title>
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <link rel="stylesheet" href="{% static 'payment.css' %}">
</head>
<body>
    
<div class="payment-container">
    <h2>Pay for {{ product.Productname }}</h2>
    <p>Price: â‚¹{{ product.Price }}</p>
    <button id="pay-btn">Pay Now</button>
    <br><br>
    <a href="{% url 'cart' %}">Back to Shopping</a>
</div>

<script>
    var options = {
        "key": "{{ razorpay_key }}",
        "amount": "{{ payment.amount }}",
        "currency": "INR",
        "name": "Book Store",
        "description": "{{ product.Productname }}",
        "order_id": "{{ payment.id }}",
        "handler": function (response){
            window.location.href = "/payment-success/";
        }
    };

    var rzp = new Razorpay(options);

    document.getElementById('pay-btn').onclick = function(e){
        rzp.open();
        e.preventDefault();
    }
</script>

</body>
</html>